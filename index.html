<!DOCTYPE html>
<html>
<body>

<h1>Test Homework for Java School applicants by Evgeny Dombrauskas</h1>

<h2>Task #1</h2>
<input type="text" value="1555667777777755555" size="50" id="input_task1"></input>
<button onclick="Run(1)">Check</button>
<br><br>
Character from the longest reccuring sequence: <b><span id="output_task1"></span></b>
<br><br>

<h2>Task #2</h2>
<input type="text" value="8" size="50" id="input_task2"></input>
<button onclick="Run(2)">Draw</button>
<br><br>
<div id="output_task2" style="font: bold 18px 'Courier New';"></div>
<br><br>

<h2>Task #3</h2>
<input type="text" value="[(]{)}" size="50" id="input_task3"></input>
<button onclick="Run(3)">Check</button>
<br><br>
<div id="output_task3"></div>
<br><br>

<script>
function Run(x)
{
	switch (x)
	{
		case 1:
			document.getElementById("output_task1").innerHTML = Task1(document.getElementById("input_task1").value);
			break;
		case 2:
			document.getElementById("output_task2").innerHTML = Task2(document.getElementById("input_task2").value);
			break;
		case 3:
			if (Task3(document.getElementById("input_task3").value))
				document.getElementById("output_task3").innerHTML = 'Balanced!'
			else document.getElementById("output_task3").innerHTML = 'Not Balanced!'
			break;
	}
}

function Task1(x)
{
	var i = 0;
	var max = '';
	var currlen = 0;
	var maxlen = 0;

	while (i < x.length)
	{
		if (i == 0)
		{
			max = x[i];
			currlen++;
			maxlen++;
		}
		else
		{
			if (x[i] == x[i-1])
			{
				currlen++;
				if (currlen > maxlen) 
				{
					maxlen = currlen;
					max = x[i];
				}
			}
			else
			{
				currlen = 0;
				currlen++;
			}
		}
		i++;
	}
	return max;
}


function Task2(x)
{
	var column = 1;
	var line = 1;
	var lines = Math.ceil(x/2);
	var output = '';
	while (line <= lines)
	{
		column = 1;
		while (column <= x)
		{
			if ((column <= lines - line) || (column > x - lines + line))
			{
				output += '&nbsp;';
			}
			else
			{
				output += '*';
			}
			column++;
		}
		output += '<br>';
		line++
	}
	return output;
}


function Task3(x)
{
	var stack = [];
	var open = { '{': '}', '[': ']', '(': ')' };
	var closed = { '}': true, ']': true, ')': true };
	var i = 0;
	var chr;
	
	while (i < x.length) 
	{
		chr = x[i];
		if (open[chr]) 
		{
			stack.push(chr);
		} 
		else if (closed[chr]) 
		{
			if (open[stack.pop()] != chr) return false;
		}
		i++;
	}

	if (stack.length > 0) return false
	else return true;
}

</script>

</body>
</html>

